{{define "title"}}Admin Panel{{end}}

{{define "content"}}
<section class="admin-panel">
    <a href="/post">New Post</a>
    <h2>Posts</h2>
    {{if eq (len .) 0}}
    No posts
    {{end}}
    {{range .}}
    <div class="blog-entry">
        <span 
            class="delete-post" 
            hx-delete="/post/{{.Id}}" 
            hx-confirm="Are you sure you want to delete this post?"
            hx-target="closest div.blog-entry"
            hx-swap="outerHTML swap:1s"
        >   
            &times;
        </span>
        <p class="blog-date">{{.Published}}</p>
        <a href="/blog/{{.Slug}}">{{.Title}}</a>
        <a href="/blog/{{.Slug}}/edit" class="edit-post">Edit</a>
    </div>
    {{end}}
</section>
{{end}}